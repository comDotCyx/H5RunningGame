define(["lib/gameFunctions"],function(e){function t(e){this.picSource=e.picSource,this.picNum=e.picSource.length,this.initD=e.initD,this.offsetRatio=e.offsetRatio,this.initScale=e.initScale,this.x,this.y,this.side,this.h,this.vy,this.g,this.jumpTimer,this.angle,this.toAngle,this.picCount,this.picCountInterval,this.timer,this.pics=[]}return t.prototype.init=function(){this.x=0,this.y=this.initD,this.h=0,this.vy=0,this.g=.001,this.jumpTimer=0,this.picCount=0,this.picCountInterval=1,this.side=0,this.angle=0,this.toAngle=0,this.timer=0,this.jumping=!1,this.canTouch=!1,this.canTouchAgain=!0;for(var e=0;e<this.picSource.length;e++){var t=new Image;t.src=this.picSource[e],this.pics.push(t)}},t.prototype.draw=function(t,n,r){this.jumping?this.jump(r):(this.timer+=r,this.timer>=n&&(this.picCount+=this.picCountInterval,this.picCount>=this.picNum-2&&(this.picCount=this.picNum-2,this.picCountInterval*=-1),this.picCount<=0&&(this.picCount=0,this.picCountInterval*=-1),this.timer=0),this.x=e.lerpDistance(this.side*this.initD*this.offsetRatio,this.x,.8),this.angle=e.lerpAngle(this.toAngle*Math.PI/180,this.angle,.7));var i=this.pics[this.picCount],s=i.width*this.initScale,o=i.height*this.initScale;t.save(),t.translate(this.x,this.y),t.rotate(this.angle),t.drawImage(i,-0.5*s,-o,s,o),t.restore()},t.prototype.jump=function(e){this.picCount=this.picNum-1,this.vy=.5,this.jumpTimer+=e,this.h=this.vy*this.jumpTimer-.5*this.g*this.jumpTimer*this.jumpTimer,this.y=this.initD-this.h,this.h<=0&&(this.y=this.initD,this.jumping=!1,this.canTouch=!0,this.canTouchAgain=!0,this.jumpTimer=0,this.picCount=0,this.timer=0)},t});