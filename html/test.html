<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0,  minimum-scale=1.0, maximum-scale=1.0"/>
    <meta http-equiv="keywords" content="H5,小游戏,跑步,canvas">
    <meta name="description" content="MM-8周年活动" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="screen-orientation" content="portrait">
    <meta name="x5-orientation" content="portrait">
    <title>H5小游戏 天天快跑</title>
    <style>
        html,body{width:100%; height:100%; overflow:hidden; position:relative;}
    </style>
    <script>
        /*recalce rem by device sizing*/
        (function (doc, win, undefined) {
            var docEl = doc.documentElement,
            resizeEvt = 'orientationchange' in win? 'orientationchange' : 'resize',
            recalc = function () {
                var clientWidth = docEl.clientWidth;
                if (clientWidth === undefined) return;
                docEl.style.fontSize = clientWidth/6.4 + 'px';
            };
            if (doc.addEventListener === undefined) return;
            recalc();
            win.addEventListener(resizeEvt, recalc, false);
        })(document, window);
    </script>
    <link rel="stylesheet" href="../css/style.css">
    
</head>
<body>

    <!-- cover -->
    <div class="cover" id="cover">
        <div class="coverTop coverBg1">
            <div class="coverBg2">
                <img class="coverBanner" src="../images/coverbanner.png" alt="">
                <img class="coverBgImg2" src="../images/coverbg-2.png" alt="">
            </div>
            <div class="coverBg3">
                <img src="../images/coverbg-3.png" alt="">
            </div>
            <div class="coverBoy">
                <img src="../images/cover-boy.png" alt="">
            </div>
        </div>
        
        <div class="runningBtn">
            <img src="../images/btn-1.png" alt="">
        </div>
        
        <div class="tipsBtn" id="guidTipsBtn">游戏说明</div>
        <div class="recordBtn" data-page="#cover" style="display:none">我的记录</div>

        <div id="guidTipsBox" class="tipBox hideBox">
            <h3>操作指南</h3>
            <p>1.引导页点击屏幕开始游戏</p>
            <p>2.左右滑动躲避较高的障碍物</p>
            <p>3.矮的障碍物可以上滑跳过</p>
            <p>4.碰到障碍物会扣除一定时间</p>
            <p>5.左上方按钮来点音乐会更嗨</p>
            <div class="closeTipBtn">我知道了</div>
        </div>
    </div>
    
    <!-- lodadingPage -->
    <div class="loadingPage" id="loadingPage">
        <div class="contentBox">
            <div class="progressAnim">
                <img id="progressAnimPic" src="../images/loading-1.gif" alt="">
            </div>
            <div class="progress">
                <div id="progressMsk"></div>
            </div>
            <div id="porgressNum">loading……0%</div>
        </div>
    </div>

    <!-- game -->
    <div class="game" id="game">
        <!-- playing prompt -->
        <div class="guide" id="guide">
            <div class="guideImg">
                <img src="../images/guide-3.png" alt="" class="guideImg1" />
                <img src="../images/guide-4.png" alt="" class="guideImg2" />
                <img src="../images/obstacle-1.png" alt="" class="guideImg3" />
                <img src="../images/guide-5.png" alt="" class="guideImg4" />
                <img src="../images/guide-1.png" alt="" class="guideImg5" />
                <img src="../images/guide-2.png" alt="" class="guideImg6" />
            </div>
            <!-- 3s倒计时 -->
            <img src="../images/time-3.png" alt="" id="timeImg" class="timeCount">
        </div>
        

        <!-- 横幅标语 -->
        <div id="cheerTip">&nbsp;</div>
        
        <!-- 游戏时间 -->
        <div class="timeBar" id="timeBar">
            <em id="countT">30</em>s
            <span id="reduce">-2s</span>
        </div>
        
        <!-- 跑了多少米 -->
        <div id="distance">0m</div>

        <!-- 4张画布 -->
        <canvas id="canvas1" width="640" height="1050"></canvas>
        <canvas id="canvas2" width="640" height="1050"></canvas>
        <canvas id="canvas4" width="640" height="850"></canvas>
        <canvas id="canvas3" width="640" height="1050"></canvas>

        <!-- 跑完后的弹框 -->
        <div class="tipBg" id="endTipBg" style="display:none;">
            <div class="tipBox hideBox">
                <img src="../images/player-6.png" alt="" class="tipBoy">
                <div>非常棒，跑了</div>
                <div id="curGrade">&nbsp;&nbsp;米</div>
                <div class="gameEndBtns">
                    <div data-page="#game" class="closeTipBtn recordBtn">查看战绩</div>
                    <div class="closeTipBtn againBtn">继续奔跑</div>
                </div>
            </div>
        </div>

    </div>
    
    <!-- 历史成绩 -->
    <div class="record" id="record" style= "display:none;">
        <div class="recordBg"></div>
        <div class="recordContent">
            <div class="tit">我的辉煌成就</div>
            <div class="recordTop">
                <div>一共跑了<strong class="times">0</strong>次</div>
                <div>总路程<strong class="totalDistance">0</strong>米</div>
                <div>最高成绩<strong class="best">0</strong>米</div>
                <div>最差成绩<strong class="worst">0</strong>米</div>
            </div>
            <div class="tit2">我的top10</div>
            <ul class="topList"></ul>
            <div class="recordEndBtns">
                <div class="goBack">返回</div>
                <div class="goPlay">开跑</div>
            </div>
        </div>
    </div>

    <div id="bgmBtn" class="bgmBtn"></div>
    <audio id="bgm" loop="loop">
        <source  src="../media/bgm1.mp3" type="audio/mpeg"></source>   
    </audio>
    
    <!-- Zepto -->
    <script src="../js/lib/zepto.js"></script>
    <!-- 游戏工具函数 -->
    <script src="../js/lib/gameFunctions.js"></script>
    <!-- 预加载插件 -->
    <script src="../js/lib/zepto.imgpreload.js"></script>
    <!-- 本地存储功能 -->
    <script src="../js/lib/localStorage.js"></script>
    <!-- gameConfig -->
    <script src="../js/app/gameConfig.js"></script>
    <!-- Movers -->
    <script src="../js/app/movers.js"></script>
    <!-- touchEvents -->
    <script src="../js/app/touch.js"></script>
    <!-- collision -->
    <script src="../js/app/collision.js"></script>
    <!-- player -->
    <script src="../js/app/player.js"></script>
    <!-- 游戏脚本 -->
    <script src="../js/app/testmp3.js"></script>
    
</body>
</html>